generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider     = "postgres"
  url          = env("DATABASE_URL")
  relationMode = "prisma"
}
model ActividadExtra {
 Id           Int       @id @default(autoincrement())
  Nombre       String?   @db.VarChar(50)
  Descripcion  String?   @db.VarChar(200)
  Precio       Decimal?  @db.Decimal(10, 2)
  Imagen       String?   @db.VarChar(200)
  Fecha_Inicio DateTime? @db.Date
  Fecha_Fin    DateTime? @db.Date
}

model periodos {
  Id           Int       @id @default(autoincrement())
  Nombre       String?   @db.VarChar(100)
  Precio       Decimal?  @db.Decimal(10, 2)
  Fecha_Inicio DateTime? @db.Date
  Fecha_Fin    DateTime? @db.Date
}


model grados {
  Id        Int     @id @default(autoincrement())
  Nombre    String? @db.VarChar(20)
  IdPeriodo Int

  @@index([IdPeriodo], map: "IdPeriodo")
}

model grupos {
  Id      Int     @id @default(autoincrement())
  Nombre  String? @db.VarChar(50)
  Cupo    Int?
  IdGrado Int

  @@index([IdGrado], map: "IdGrado")
}

model metodospago {
  Id          Int     @id @default(autoincrement())
  Nombre      String? @db.VarChar(50)
  Descripcion String? @db.VarChar(200)
}

model pagos {
  Id                Int      @id @default(autoincrement())
  Monto             Decimal  @db.Decimal(10, 2)
  Fecha_Pago        DateTime @default(now()) @db.Timestamp(0)
  MetodoPago        Int
  Referencia        String   @db.Char(10)
  Estado            String   @db.VarChar(50)
  Id_Usuario        Int
  Id_Periodo        Int
  Id_ActividadExtra Int

  @@index([Id_ActividadExtra], map: "Idx_ActividadExtra")
  @@index([Id_Periodo], map: "Idx_Periodo")
  @@index([Id_Usuario], map: "Idx_Usuario")
}


model usuarios {
  Id                Int     @id @default(autoincrement())
  Nombre            String? @db.VarChar(100)
  Apellido          String? @db.VarChar(100)
  CorreoElectronico String? @db.VarChar(50)
  Contrasena        String? @db.VarChar(200)
  FotoPerfil        String? @db.VarChar(200)
  Id_Periodo        Int?
  Id_Grado          Int?
  Id_Grupo          Int?
  Rol               String? @db.VarChar(50)

  @@index([Id_Grado], map: "Id_Grado")
  @@index([Id_Grupo], map: "Id_Grupo")
  @@index([Id_Periodo], map: "Id_Periodo")
}
